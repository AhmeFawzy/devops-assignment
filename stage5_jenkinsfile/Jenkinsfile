pipeline {
    agent any
    stages {
        stage('üîç Debug Workspace') {
            steps {
                echo '=== Current working directory ==='
                sh '''pwd'''

                echo '=== Files in current directory (should contain stage5_jenkinsfile) ==='
                sh '''ls -la'''

                echo '=== Files in parent directory (should show all stage folders) ==='
                sh '''ls -la ..'''

                echo '=== Full directory tree (excluding .git) ==='
                sh '''find .. -type d | grep -v "/.git/" | sort'''

                echo '=== Check if stage3 folder exists ==='
                sh '''if [ -d "../stage3_python_script_dockerfile" ]; then echo "‚úÖ FOUND: stage3_python_script_dockerfile"; else echo "‚ùå MISSING: stage3_python_script_dockerfile"; fi'''
            }
        }
    }
    post {
        always {
            echo 'Debugging complete.'
        }
    }
}